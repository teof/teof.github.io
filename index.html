<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>teof的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="北航09级研究生。擅长手游研发，历任双端核心开发、项目主程、创业公司技术合伙人。">
<meta name="keywords" content="erlang,html5,开发者,程序猿,编程,代码,开源">
<meta property="og:type" content="website">
<meta property="og:title" content="teof的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="teof的博客">
<meta property="og:description" content="北航09级研究生。擅长手游研发，历任双端核心开发、项目主程、创业公司技术合伙人。">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="teof的博客">
<meta name="twitter:description" content="北航09级研究生。擅长手游研发，历任双端核心开发、项目主程、创业公司技术合伙人。">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">teof的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">不想继续废柴</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-egret3d开源项目初探" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/25/egret3d开源项目初探/" class="article-date">
  <time datetime="2018-11-25T15:39:05.000Z" itemprop="datePublished">2018-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/3d-engine/">3d engine</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/25/egret3d开源项目初探/">egret3d开源项目初探</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="背景知识："><a href="#背景知识：" class="headerlink" title="背景知识："></a>背景知识：</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;以前写过格斗猎人的2D战斗逻辑引擎，算是极其简单的2D逻辑了，真实逻辑大概也就几百上千行。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;而这个3D引擎目前才开发到1.3版本，很多功能还没有实现，就有2、3w行代码了。3D引擎复杂程度果然是最难等级的，更别提后续可能的各种图形学新技术新优化，都加上以后感觉这个项目奔着10w行js代码去了。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;看了一段时间，结合之前对于渲染的简单了解，有点心得，记录一下。未来的道路还很漫长，继续加油。</p>
<h4 id="egret3d引擎周边："><a href="#egret3d引擎周边：" class="headerlink" title="egret3d引擎周边："></a>egret3d引擎周边：</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;egret3d引擎可以理解为两个大的部分，一部分是浏览器提供的webgl api调用opengl的渲染部分；另外一部分则是这个开源库所实现的3d引擎逻辑功能部分，这部分egret引擎组将其设计为两块，分别包装在egret3d和paper两个命名空间中。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;【<strong>egret3d 命名空间</strong>用于处理三维游戏相关内容，包含模型、纹理、材质、灯光、碰撞等常用功能。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>paper 命名空间</strong>用于实现与具体游戏引擎（无论是2D 或 3D）无关的组件实体系统框架，用于维护对象的生命周期以及开发模型。】</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;宏观来看设计非常清晰，和整个现有的egret框架是一个逐渐融合的关系。非常支持这种商业化技术理念，既独立开来以保障快速开发，又在宏观层面和现有系统建立联系。接下去就是项目组的一个快速迭代的实践过程。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;egret采用了Typescript语言作为主语言。ts是微软所写，看着就像是C#进化版，呵呵。关于ts语言的设计初衷，我非常理解，动态脚本语言（js）设计大型项目的缺点很多，必须要用好的外围工具来约束它，统筹规划它。这样才能在不断地开发维护中保证项目的可控性、可维护性。比如我们公司全lua的unity3d项目，我就明确要求了一点，当你使用lua的目的不再只是修bug，热更新，而是作为整个项目的主要语言时，它的灵活可能就是缺点，需要用明确的规则/工具管控起来。</p>
<h4 id="egret3d引擎初探："><a href="#egret3d引擎初探：" class="headerlink" title="egret3d引擎初探："></a>egret3d引擎初探：</h4><h5 id="入口和运行时："><a href="#入口和运行时：" class="headerlink" title="入口和运行时："></a>入口和运行时：</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index.html中调用egret3d.runEgret，进入RunEgret.ts模块的runEgret方法。引擎启动了。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在整个运行时，主要是ECS：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Entity 实体</strong>：BaseObject，GameObject、Asset、Scene、BaseComponent等</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Component 组件</strong>：BaseComponent，一个组件实现一方面的功能，包含数据</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>System 系统</strong>：BaseSystem，一个生命周期系统处理该生命周期的所有脚本和组件的数据，其他功能系统类</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此ECS非Unity2018中提到的能大幅优化并发性能、增加Cache命中的ECS（反正js都是单线程 <a href="https://segmentfault.com/a/1190000012925872" target="_blank" rel="noopener">h5开发必看</a>）。但是概念上比较接近。通过各个单例管理类维护状态数据，各个组件“组成”功能，各个系统进行各方面功能的调度。完成了3d引擎的几乎所有功能部分。</p>
<h5 id="egret3d项目结构分析："><a href="#egret3d项目结构分析：" class="headerlink" title="egret3d项目结构分析："></a>egret3d项目结构分析：</h5><p>图片看不了的点击链接：<a href="https://imgchr.com/i/FA9TLq" target="_blank" rel="noopener">egret3d文件夹结构</a></p>
<p><img src="image/egret3d文件夹结构.png" alt="egret3d文件夹结构"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asset:资源定义，如Mesh、Material、Texture、Shader、GLTF。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;components：各个实际的功能，animation、audio、camera、collision、Egret2DRenderer、light、MeshFilter、MeshRenderer、particles、singletons、SkinnedMeshRenderer、Transform。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;esc：如上述分析。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;editor:编辑器功能，和以前看过U3d实现编辑器的设计类似，实现undo、redo、serialize、deserialize这几个主要接口。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;math：实现了3D引擎的各种数学库，以后碰到类似的疑惑可以回来参考。</p>
<p>PS：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GameObject的全局单例组件管理值得借鉴，采取的单例基类的应用方式下次自己试试。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;常见的处理流程：单例组件类Component先收集待处理实体，最后再由对应的System统一处理。</p>
<p>egret3d引擎的脚本组件及生命周期顺序如下：</p>
<p>​     * 脚本组件。</p>
<p>​     * 生命周期的顺序。</p>
<p>​     * - onAwake();    //组件被初始化时调用。在整个生命周期中只执行一次。</p>
<p>​     * - onReset();</p>
<p>​     * - onEnable();    //组件被激活或实体被激活时调用。</p>
<p>​     * - onStart();    //组件开始运行时调用。在整个生命周期中只执行一次。</p>
<p>​     * - onFixedUpdate();</p>
<p>​     * - onUpdate();    //程序每帧调用。</p>
<p>​     * - onLateUpdate();    //程序每帧调用。</p>
<p>​     * - onDisable();    //组件被禁用或实体被禁用时调用。</p>
<p>​     * - onDestroy();</p>
<h5 id="个别名词解释："><a href="#个别名词解释：" class="headerlink" title="个别名词解释："></a>个别名词解释：</h5><p>WebGL：通过浏览器提供的接口，直接和底层的OpenGL库打交道。</p>
<p>GLTF：3D图形界的JPEG，2015年10月发布，面向实时渲染应用的，尽量提供可以直接传输给图形API的数据形式，不再需要二次转换。</p>
<p>WebAssembly：是一种新的适合于编译到Web的，可移植的，大小和加载时间高效的格式，是一种新的字节码格式。可用它将大型的C和C++代码库比如游戏、物理引擎甚至是桌面应用程序导入Web平台。<a href="https://bellard.org/jslinux/vm.html?url=https://bellard.org/jslinux/win2k.cfg&amp;mem=192&amp;graphic=1&amp;w=1024&amp;h=768" target="_blank" rel="noopener">windows 2000通过WebAssembly编译</a></p>
<h5 id="展望与总结："><a href="#展望与总结：" class="headerlink" title="展望与总结："></a>展望与总结：</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;多嘴一句，egret引擎组主体全是基于Typescript语言开发，c层面的东西很少，这样的隐患就是完全把性能交给了js语言。万幸最近这些年webgl、gltf、webassembly等等提高性能的技术不断出现。个人认为接下去egret的性能命脉就彻底交到了webassembly手中，这个技术到底能发展成啥样，工业化到什么程度呢，拭目以待。egret、cocos、laya到底谁会胜出？还是以后可能入场的底蕴深厚的腾讯、网易呢？我不知道答案啊，但是有鹅选鹅，有猪选猪，总不会错。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对3d引擎的构成有了个简单的了解，对以前计算机图形学课程的理解又深刻了不少，呵呵，以后继续参考其他开源3d引擎的实现。多理解其他大牛已有的实践工作，尽快应用于实际项目中。多看多学多练。另外对于初学者，强烈推荐《Unity Shader入门精要》。</p>
<h4 id="随想（胡言乱语，可略）："><a href="#随想（胡言乱语，可略）：" class="headerlink" title="随想（胡言乱语，可略）："></a>随想（胡言乱语，可略）：</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果是我来主导h5的3d引擎开发，我会怎么快速开发出这几万行代码呢？</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0、支持webgl的浏览器以便实测，熟悉webgl的api接口，阅读理解《游戏引擎架构》、《Unity Shader入门精要》，参考市面上成熟的开源3d引擎项目。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1、尽快写出最初版的3d最小原型，自测通过。最小原型实现以下功能：基本数学库、网格、材质、贴图、默认Shader。读取3d数据，调用webgl，可在浏览器上展示3d效果。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2、在最小原型的基础上开始确定架构图，各个模块之间的关联。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3、并行开发完善各个模块，各自自测，引入测试，测试所用的3D数据可以先通过其他工具生成。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4、最后处理各种额外功能、3D编辑器、性能优化等。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/25/egret3d开源项目初探/" data-id="cjox56qb20000fsrjktdo5qg0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-leetcode-4-寻找两个有序数组的中位数" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/20/leetcode-4-寻找两个有序数组的中位数/" class="article-date">
  <time datetime="2018-11-20T15:19:56.000Z" itemprop="datePublished">2018-11-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/h5刷题/">h5刷题</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/20/leetcode-4-寻找两个有序数组的中位数/">leetcode 84 寻找两个有序数组的中位数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h4><p>给定两个大小为 m 和 n 的有序数组 <code>nums1</code> 和 <code>nums2</code>。</p>
<p>请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。</p>
<p>你可以假设 <code>nums1</code> 和 <code>nums2</code> 不会同时为空。</p>
<p><strong>示例 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [1, 3]</span><br><span class="line">nums2 = [2]</span><br><span class="line"></span><br><span class="line">则中位数是 2.0</span><br></pre></td></tr></table></figure>
<p><strong>示例 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [1, 2]</span><br><span class="line">nums2 = [3, 4]</span><br><span class="line"></span><br><span class="line">则中位数是 (2 + 3)/2 = 2.5</span><br></pre></td></tr></table></figure>
<h4 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h4><p>一看到算法实际复杂度为O（log n）这样形式的， 下意识的就会想到二分处理的相关算法。本题亦是如此，思路是获取到A数组的i分割线，以及B数组的j分割线，保证左边的和右边的数量接近相等，并且左边的最大值小于右边的最小值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums1</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums2</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findMidValue = <span class="function"><span class="keyword">function</span>(<span class="params">nums1, nums2</span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">var</span> m = nums1.length;</span><br><span class="line">    <span class="keyword">var</span> n = nums2.length;</span><br><span class="line">    <span class="keyword">if</span> (m &gt; n) &#123;</span><br><span class="line">        <span class="keyword">var</span> temp = nums1;</span><br><span class="line">        nums1 = nums2;</span><br><span class="line">        nums2 = temp;</span><br><span class="line">        <span class="keyword">var</span> tmp = m;</span><br><span class="line">        m = n;</span><br><span class="line">        n = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//console.log(nums1, nums2)</span></span><br><span class="line">    <span class="keyword">var</span> iMin = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> iMax = m;</span><br><span class="line">    <span class="keyword">var</span> halfLen = <span class="built_in">Math</span>.floor((m + n + <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">while</span> (iMin &lt;= iMax) &#123;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="built_in">Math</span>.floor((iMin + iMax) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">var</span> j = halfLen - i;</span><br><span class="line">        <span class="comment">//console.log(i, nums1[i])</span></span><br><span class="line">        <span class="keyword">if</span> (i &lt; iMax &amp;&amp; nums2[j - <span class="number">1</span>] &gt; nums1[i]) &#123;</span><br><span class="line">            iMin = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (i &gt; iMin &amp;&amp; nums1[i - <span class="number">1</span>] &gt; nums2[j]) &#123;</span><br><span class="line">            iMax = i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> maxLeft = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                maxLeft = nums2[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                maxLeft = nums1[i - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                maxLeft = <span class="built_in">Math</span>.max(nums1[i - <span class="number">1</span>], nums2[j - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ((m + n) % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> maxLeft;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> minRight = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (i == m) &#123;</span><br><span class="line">                minRight = nums2[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (j == n) &#123;</span><br><span class="line">                minRight = nums1[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                minRight = <span class="built_in">Math</span>.min(nums2[j], nums1[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> (maxLeft + minRight) / <span class="number">2.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/20/leetcode-4-寻找两个有序数组的中位数/" data-id="cjox56qba0001fsrjri3lqnjd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-一个游戏人，呵呵" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/18/一个游戏人，呵呵/" class="article-date">
  <time datetime="2018-11-18T05:19:56.000Z" itemprop="datePublished">2018-11-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/essay/">essay</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/18/一个游戏人，呵呵/">一个游戏人，呵呵</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    入行游戏圈已多年，理想丰满，现实残酷。</p>
<p>​    有次和同事打的，谈及工作。同事半途下车后，司机问我是否做游戏的，内心一惊，慌然答是。毕竟身座前排，万一被打，不好逃脱。幸好司机比较温和，问我做过哪些游戏，回答了本人所参与的两款，司机答说，挺巧的啊，我都玩过。</p>
<p>​    内心千万匹草泥马奔过，该不会今天要被人打了吧，如果被打，我还不好意思还手呢，策划同仁们，我要为你们付出肉体了啊。还好此时司机笑了，说都玩过一两个月，还行吧。后续我再也不说话，安静下车，平安到家。</p>
<p>​    我想做游戏【人】。让土豪们在黄赌毒之外，找到安心之地；让朋友们找到社交的快乐；帮助小孩子们开拓智力，培养脑容量；每一个参与游戏的人能够享受娱乐而不沉迷其中。这是我所理解的游戏人的担当。</p>
<p>​    游戏如同歌曲、电影、电视剧，本就该作为一种娱乐教育方式帮助社会，受人尊敬。而不用似当日一般，忧心忡忡被人当街暴打。</p>
<p>​    游戏表达情感，要用沉静、克制、不做作的方式表达艺术，又透露人的思想情感，既 “私人化” 又表达大众可以理解的心情。太表面地直接去表达我觉得很无趣，也很粗俗。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/18/一个游戏人，呵呵/" data-id="cjomgq11j0003t4rjc0pz5rlb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-本博主旨" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/17/本博主旨/" class="article-date">
  <time datetime="2018-11-17T15:19:56.000Z" itemprop="datePublished">2018-11-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/me-i-myself/">me.i.myself</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/17/本博主旨/">本博主旨</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    我是一个害羞的人。在这里交流我对于生活、工作的想法，可能我只是一种诉说，并无打算来收到您的想法（很抱歉。但是如果您特别特别有感触，超级想和我交流；亦或曾是我的爱恋：），可以联系我打扰我。谢谢配合。）</p>
<p>​    【特别说明】各人成长经历不同，本博仅叙述本人想法，不喜勿喷。比如我说到“抽象/隐喻”这个概念，计算机相关的同学可能会有各自的想法，感触深浅；其他行业的则毫无反应。这很正常，希望您能理解见谅。（后续我不会再重复说该观点。毕竟不同人说同样的话，内涵表述不尽相同。）</p>
<p>​    简单介绍下自己，这样方便您理解我的背景和文字，尽量减少分歧。出生于一个小村庄，父母均是国企工人，小学、初中、高中都在厂矿子弟学校读书，同学都是一个国企的，深受社会主义精神熏陶。害羞内敛讲义气，大学前有过刻骨铭心（毫无诋毁该词，本人风格不喜滥用词汇）的人。大学玩三年，学一年，考入北航计算机学院；读研玩一年，学一年，进入淘宝量子统计部实习后端工程师。25岁前情商为0，所以爱情柳暗花明，最终失败；有志向，却落入复杂的社会洪流，无地自容。</p>
<p>​    后于4399入行手游行业，入门，精通。历任双端核心开发、主程、创业公司技术合伙人。现基础薄弱，但立志成为技术专家，如有贵人愿意抬一手，必倾力回报。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/17/本博主旨/" data-id="cjomgq10r0000t4rjtnowcrf2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-你好-Hexo" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/16/你好-Hexo/" class="article-date">
  <time datetime="2018-11-16T15:19:56.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/erlang/">erlang</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/16/你好-Hexo/">你好,Hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从WordPress转到Hexo。写一篇博客吧，内容想了想，写个erlang通用服务器。</p>
<p>erlang的魔力：生成一套可替换的通用服务器框架。可以把机房全部署上，然后使用你的计算服务，例如挖比特币。即可一直工作，呵呵。注意：还可以进行热更新不停服替换新的计算服务。所有功能仅需40行代码，如下：</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">-module</span><span class="params">(test)</span>.</span><br><span class="line"><span class="keyword">-export</span><span class="params">([common_server/<span class="number">0</span>, factorial_server/<span class="number">0</span>, become/<span class="number">1</span>, test/<span class="number">1</span>])</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">%通用服务器</span></span><br><span class="line"><span class="function"><span class="title">common_server</span><span class="params">()</span> -&gt;</span></span><br><span class="line">    <span class="keyword">receive</span></span><br><span class="line">        &#123;become, F&#125; -&gt;</span><br><span class="line">            <span class="keyword">case</span> get(s_server) <span class="keyword">of</span></span><br><span class="line">                undefined -&gt; nil;</span><br><span class="line">                OldPid -&gt; OldPid ! &#123;close&#125;</span><br><span class="line">            <span class="keyword">end</span>,</span><br><span class="line">            Pid = spawn(<span class="keyword">fun</span> () -&gt; F() <span class="keyword">end</span>),</span><br><span class="line">            put(s_server, Pid),</span><br><span class="line">            common_server();</span><br><span class="line">        OtherData -&gt;</span><br><span class="line">            <span class="keyword">case</span> get(s_server) <span class="keyword">of</span></span><br><span class="line">                 undefined -&gt; nil;</span><br><span class="line">                 OldPid -&gt; OldPid ! OtherData</span><br><span class="line">             <span class="keyword">end</span>,</span><br><span class="line">    <span class="keyword">end</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">%可替换的计算服务器</span></span><br><span class="line"><span class="function"><span class="title">factorial_server</span><span class="params">()</span> -&gt;</span></span><br><span class="line">    <span class="keyword">receive</span></span><br><span class="line">        &#123;From, N&#125; -&gt;</span><br><span class="line">            From ! factorial(N),</span><br><span class="line">            factorial_server();</span><br><span class="line">        &#123;close&#125; -&gt; close</span><br><span class="line">    <span class="keyword">end</span>.</span><br><span class="line"><span class="function"><span class="title">factorial</span><span class="params">(<span class="number">0</span>)</span> -&gt;</span></span><br><span class="line">    <span class="number">1</span>;  </span><br><span class="line"><span class="function"><span class="title">factorial</span><span class="params">(N)</span> -&gt;</span> N * factorial(N-<span class="number">1</span>).</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">become</span><span class="params">(F)</span> -&gt;</span></span><br><span class="line">    Pid = spawn(fun common_server/0), </span><br><span class="line">    Pid ! &#123;become, F&#125;, </span><br><span class="line">    Pid.</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">test</span><span class="params">(Pid)</span> -&gt;</span></span><br><span class="line">    Pid ! &#123;self(), <span class="number">50</span>&#125;,</span><br><span class="line">    <span class="keyword">receive</span></span><br><span class="line">        X -&gt; X</span><br><span class="line">    <span class="keyword">end</span>.</span><br></pre></td></tr></table></figure>
<p>测试：<br><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>&gt; Pid = test:become(<span class="keyword">fun</span> test:factorial_server/<span class="number">0</span>).</span><br><span class="line">&lt;<span class="number">0.36</span>.<span class="number">0</span>&gt;</span><br><span class="line"><span class="number">2</span>&gt; test:test(Pid).</span><br><span class="line"><span class="number">30414093201713378043612608166064768844377641568960512000000000000</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/16/你好-Hexo/" data-id="cjokv5nnz000k44rjykf7zjfg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-leetcode-84-e6-9f-b1-e7-8a-b6-e5-9b-be-e4-b8-ad-e6-9c-80-e5-a4-a7-e7-9a-84-e7-9f-a9-e5-bd-a2" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/14/leetcode-84-e6-9f-b1-e7-8a-b6-e5-9b-be-e4-b8-ad-e6-9c-80-e5-a4-a7-e7-9a-84-e7-9f-a9-e5-bd-a2/" class="article-date">
  <time datetime="2018-11-14T15:16:10.000Z" itemprop="datePublished">2018-11-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/h5刷题/">h5刷题</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/14/leetcode-84-e6-9f-b1-e7-8a-b6-e5-9b-be-e4-b8-ad-e6-9c-80-e5-a4-a7-e7-9a-84-e7-9f-a9-e5-bd-a2/">leetcode 84 柱状图中最大的矩形</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近属地问了我一个面试题，说他想到了O（n*n）的时间复杂度，没通过。跟我提了一嘴O(n)复杂度，突然灵感来了。题目如下： <a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/description/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/largest-rectangle-in-histogram/description/</a> 精神上来说可能有点像KMP算法。就是计算的过程中不断回溯，来最大利用旧的值，只是这个栈是用来保证是一个单调递增的。排版有点混乱，见谅。 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;Script　Language=<span class="string">"JavaScript"</span>&gt; </span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">Stack</span>(<span class="params"></span>)　</span>&#123; </span><br><span class="line">	<span class="keyword">this</span>.dataStore　=　[] </span><br><span class="line">	<span class="keyword">this</span>.top　=　<span class="number">0</span>; </span><br><span class="line">	<span class="keyword">this</span>.push　=　push </span><br><span class="line">	<span class="keyword">this</span>.pop　=　pop </span><br><span class="line">	<span class="keyword">this</span>.peek　=　peek </span><br><span class="line">	<span class="keyword">this</span>.length　=　length; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">push</span>(<span class="params">element</span>)　</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top++]　=　element; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">peek</span>(<span class="params">element</span>)　</span>&#123; </span><br><span class="line">	<span class="keyword">return</span>　<span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top　-　<span class="number">1</span>]; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">pop</span>(<span class="params"></span>)　</span>&#123; </span><br><span class="line">	<span class="keyword">return</span>　<span class="keyword">this</span>.dataStore[--<span class="keyword">this</span>.top]; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">clear</span>(<span class="params"></span>)　</span>&#123; </span><br><span class="line">	<span class="keyword">this</span>.top　=　<span class="number">0</span> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">length</span>(<span class="params"></span>)　</span>&#123; </span><br><span class="line">	<span class="keyword">return</span>　<span class="keyword">this</span>.top </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>　<span class="title">test</span>(<span class="params"></span>)　</span>&#123; </span><br><span class="line"><span class="comment">//　var　shudi　=　new　Array(2,　1,　5,　6,　2,　3,　0); </span></span><br><span class="line"><span class="comment">//　var　shudi　=　new　Array(2,　2,　1,　2,　2,　0); </span></span><br><span class="line"><span class="comment">//　var　shudi　=　new　Array(1,　2,　3,　4,　5,　6,　0); </span></span><br><span class="line">	<span class="keyword">var</span>　shudi　=　<span class="keyword">new</span>　<span class="built_in">Array</span>(<span class="number">6</span>,　<span class="number">5</span>,　<span class="number">4</span>,　<span class="number">3</span>,　<span class="number">2</span>,　<span class="number">1</span>,　<span class="number">0</span>); </span><br><span class="line">	<span class="keyword">var</span>　s　=　<span class="keyword">new</span>　Stack(); </span><br><span class="line">	<span class="keyword">var</span>　i　=　<span class="number">0</span>; </span><br><span class="line">	<span class="keyword">var</span>　max_value　=　<span class="number">0</span>; </span><br><span class="line">	<span class="keyword">while</span>　(i　&lt;　shudi.length)　&#123; </span><br><span class="line">		<span class="keyword">if</span>　(s.length()　==　<span class="number">0</span>　||　shudi[s.peek()]　&lt;=　shudi[i])　&#123; </span><br><span class="line">			s.push(i); i　+=　<span class="number">1</span>; </span><br><span class="line">		&#125; </span><br><span class="line">		<span class="keyword">else</span>　&#123; </span><br><span class="line">			now_idx　=　s.pop(); </span><br><span class="line">			<span class="keyword">if</span>　(s.length()　==　<span class="number">0</span>) </span><br><span class="line">				max_value　=　<span class="built_in">Math</span>.max(max_value,　i　-　shudi[now_idx]); </span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				max_value　=　<span class="built_in">Math</span>.max(max_value,　(i　-　s.peek()　-　<span class="number">1</span>)　-　shudi[now_idx]); </span><br><span class="line">		&#125; </span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">return</span>　max_value </span><br><span class="line">&#125; </span><br><span class="line">alert(test()) </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/14/leetcode-84-e6-9f-b1-e7-8a-b6-e5-9b-be-e4-b8-ad-e6-9c-80-e5-a4-a7-e7-9a-84-e7-9f-a9-e5-bd-a2/" data-id="cjokv5nnz000n44rj03eptj61" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e5-a5-bd-e4-b9-85-e6-b2-a1-e5-86-99-e4-ba-86-ef-bc-8c-e7-bb-a7-e7-bb-ad-e5-8a-a0-e6-b2-b9" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/06/e5-a5-bd-e4-b9-85-e6-b2-a1-e5-86-99-e4-ba-86-ef-bc-8c-e7-bb-a7-e7-bb-ad-e5-8a-a0-e6-b2-b9/" class="article-date">
  <time datetime="2018-11-06T15:17:08.000Z" itemprop="datePublished">2018-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/06/e5-a5-bd-e4-b9-85-e6-b2-a1-e5-86-99-e4-ba-86-ef-bc-8c-e7-bb-a7-e7-bb-ad-e5-8a-a0-e6-b2-b9/">好久没写了，继续加油</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    这一段时间没写，和偷懒的关系不大，主要是工作和生活上各种繁忙。前一段负债良多，不得不在周末接了两天的私活，盈利3k+。呵呵，很轻松，如果上班赚钱也这么轻松就美滋滋了。</p>
<p>​    最近在公司主要负责三个方向。</p>
<p>​    首先是新的主打项目的后端难点开发，其实也没啥难点，呵呵。另外就是因为合作的新同事对于规范和接口很是严谨，不得不一直完善细节方便调用。 </p>
<p>​    第二个就是前端人手不足，让我去帮忙开发unity3d的系统，基于之前的经验，帮他们弄了几个新点子。策划拼UI；Lua struct；前端自测协议（这个最有趣，前端推后端，后端推前端，呵呵），但是我的目的达到了，现在是个人都能帮后端测协议测功能。 </p>
<p>​    第三个就是Egret，之前靠谱同事离职去深圳了，我凑合着接。typescript这个语言还挺有趣的，设计者既想奔着C#、Lua等各种现代先进语言的高大上走，又不得不背着js的重重的壳。希望后续自己能有更多时间写这方面的博客。细节是不可能分析的了，捡些重要的写写吧。</p>
<p>​    下一阶段要做好几个团队内技术分享，因为没时间好好准备，只能大概说个意思满足下他们了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/06/e5-a5-bd-e4-b9-85-e6-b2-a1-e5-86-99-e4-ba-86-ef-bc-8c-e7-bb-a7-e7-bb-ad-e5-8a-a0-e6-b2-b9/" data-id="cjokv5nnk000744rjffr9jd9u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e5-b8-86-e5-8f-94-e7-89-9b-e9-80-bc" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/07/e5-b8-86-e5-8f-94-e7-89-9b-e9-80-bc/" class="article-date">
  <time datetime="2018-07-06T16:47:59.000Z" itemprop="datePublished">2018-07-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/07/e5-b8-86-e5-8f-94-e7-89-9b-e9-80-bc/">帆叔牛逼</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    今天和格斗猎人的两位领导一起吃饭聚聚，瞎扯到了9点多。帆叔真是令人佩服，对代码的热爱实在让我钦佩，奋战在第一线。每天从早9点码到晚10点，中间甚至还会因为工作的聚精会神忘记了吃饭：）   </p>
<p>​    不由得回想起来当年和帆叔一起写代码的日子。那是真正的无视各种饭桶、杂毛，专注于设计代码底层的日子。各种交流，设计，思考，研究，并非空谈，而是都作用于实际的项目上。我也在这中间锻炼了不少领导方式方法。带领研究小组一周突击9/11/6。   </p>
<p>​    现在帆叔去写引擎去了，我也好想去啊啊啊啊啊！！！！！！已经好久没提高自己的纯技术能力了。好想跟着帆叔继续，郁闷了。现在的琐事让我颓废了很久。不行不行，得想办法找回状态，今天果断和老板申请了新项目h5的前端身份。争取在新的领域给公司打好底子，解决一切难题。   当你老是在旧的领域，没什么挑战的时候，就很容易混日子。新的日子，好好干，早日成为egret扛把子，向帆叔学习，能达到架构和实现简单引擎的水平！</p>
<p>​    上周末看了前任3，思绪颇多，enjoy the life。</p>
<p>​    摘录《体面》的歌评： 版权归作者所有，任何形式转载请联系作者。 作者：抓住夏日的尾巴（来自豆瓣） 来源：<a href="https://music.douban.com/review/9382019/" target="_blank" rel="noopener">https://music.douban.com/review/9382019/</a> </p>
<p>​    《体面》这首歌，歌词写的非常好，大概表达的就是这样一个意思。“都已成年，不拖不欠，浪费时间，是我甘愿”“我爱你不后悔，也尊重故事结尾”“我爱过你，利落干脆”。 从我爱你，到我爱过你，令人唏嘘。我很欣赏这首歌的歌词里面的态度，以前的是是非非都已成过往，我付出多少都是心甘情愿，我流泪我心痛也是我的事，与你无关。分开的时候彼此体面一点，余生不再需要你的指教，无论有多少不甘不舍也都从此与你无关，那些我的情绪我会自己消化。再见，不负遇见。 总有人把天长地久挂在嘴边，可是能够白头偕老又有多少，这漫漫人生路能遇到一个可以相扶走到终点的人不容易，而路途中更多的人都只是与你携手走了一段路，他们可能会带来亲情、友情、爱情。而路上的那段经历，便成了珍贵的回忆。无论怎样，那都是自己所经历过的，都是人生的财富。 于文文声音有些粗，配上这个曲子，有一种声嘶力竭的沙哑感，就像是分手之后歇斯底里过后冷静并释然的感觉，很让人入戏。 从此以后，桥归桥，路归路，余生不复相见。我留给你的，是一个体面的背影；你留给我的，是过往的经历。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/07/e5-b8-86-e5-8f-94-e7-89-9b-e9-80-bc/" data-id="cjokv5nnk000544rj3p7vv22m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e5-be-ae-e4-bf-a1-e5-b0-8f-e6-b8-b8-e6-88-8f-e6-94-af-e4-bb-98-e6-8e-a5-e5-85-a5" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/04/e5-be-ae-e4-bf-a1-e5-b0-8f-e6-b8-b8-e6-88-8f-e6-94-af-e4-bb-98-e6-8e-a5-e5-85-a5/" class="article-date">
  <time datetime="2018-07-04T15:48:58.000Z" itemprop="datePublished">2018-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/04/e5-be-ae-e4-bf-a1-e5-b0-8f-e6-b8-b8-e6-88-8f-e6-94-af-e4-bb-98-e6-8e-a5-e5-85-a5/">微信小游戏支付接入</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>项目赶进度，今天帮后端同事接入微信小游戏的支付。下午花了俩小时确定了小程序支付的流程，告诉了前端下一步怎么做，用什么接口。吃晚饭的时候还琢磨着能不能一两天搞定。 晚上回到公司加班得到前端给来的震惊消息。原来那个接口不存在，查询报错的时候发现我错误的使用了小程序那一套的微信支付接入。应该是要用米大师虚拟支付来接。。。 第一反应当然是遍历官网相关资料，结果发现还真是。这尼玛不得不吐槽腾讯的分类，一下午的各种支付文档扫描、申请资料的时候真没发现和米大师虚拟支付有啥关系。新的支付套路晚上加班走起~~~结果呵呵哒。文档有多套，然后流程是来来回回，卡住了就回到前一套去理解。。。。。。走之前还行，看的马马虎虎，阿弥托福。   过程中还发生了一件趣事。设置操作密码，恩，输入了英文和数字，ok。然后，然后，在最后面输入操作密码确定xx操作的权限时，提示我操作密码不正确，被前端拦截了，呵呵，两个地方的检验方法不一致。。。只得重置密码，老板各种扫码以后，finish。。。呵呵。   另外Erlang的Otp20.3版本的ssl源码库有bug，影响了接入。升级到最新版本即可。让我回想起来了当年Erlang的R15A有史诗级的大bug，当时我修都修不过来，只能回退版本。现在去<a href="http://www.erlang.org/downloads一看，发现下架了这个版本。呵呵" target="_blank" rel="noopener">http://www.erlang.org/downloads一看，发现下架了这个版本。呵呵</a>~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/04/e5-be-ae-e4-bf-a1-e5-b0-8f-e6-b8-b8-e6-88-8f-e6-94-af-e4-bb-98-e6-8e-a5-e5-85-a5/" data-id="cjokv5nnk000844rjbe9tnljc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e6-96-b0-e9-a1-b9-e7-9b-ae-e8-bf-9b-e5-b1-95" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/29/e6-96-b0-e9-a1-b9-e7-9b-ae-e8-bf-9b-e5-b1-95/" class="article-date">
  <time datetime="2018-06-29T15:36:49.000Z" itemprop="datePublished">2018-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/29/e6-96-b0-e9-a1-b9-e7-9b-ae-e8-bf-9b-e5-b1-95/">新项目进展</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>过去的一周开发大圣的转职系统，下周上线，体力活。同时构思了新项目的计划。 1、利用现有同事的研究，网络和配置用老一套。 2、确定项目架构，分为战斗和系统，其中战斗的帧同步逻辑部分抽离出来，适配egret的表现层。系统层使用MVC没什么可讨论的，目标尽可能的简单直接，最好把相关手工复合部分都抽离出来，能让策划制作页面最好。系统之间保证绝对的独立性，低耦合。确定好公共模块。注意做好优化！项目优化上，本人观点一直是把通用的优化做好，而细节的优化不用刻意提前，分清主次。 3、项目编码规范初版已经定好，接下来在确定好架构的情况下，把文件夹定义好，模块间的管理规划好，重要文件注释写好，流程图画好。就可进入铺量环节，以方便让其他同事顺利上手。 4、h5是公司新的技术方向，坑肯定会不少，一边摸索解决一边定好方案和文档，为以后的项目搭好底子。   原则：一流的执行力，在创业公司加快推进，尽快上线。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/29/e6-96-b0-e9-a1-b9-e7-9b-ae-e8-bf-9b-e5-b1-95/" data-id="cjokv5nnk000b44rjo9bv8qk4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
    <h3 class="widget-title">个人信息</h3>
    <div class="widget">
      <li>历任双端核心开发、主程、创业公司技术合伙人。擅长Erlang。使用Unity3d，Egret。</li>
      <li><a href="https://www.zhihu.com/people/sun-jie-20-20/asks" title="Zhihu">我的知乎</a></li>
      <li><a href="https://teof.github.io/2018/11/17/本博主旨/" title="self">本博主旨</a></li>
    </div>
  </div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/3d-engine/">3d engine</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/erlang/">erlang</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/essay/">essay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/h5刷题/">h5刷题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js刷题/">js刷题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/me-i-myself/">me.i.myself</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/25/egret3d开源项目初探/">egret3d开源项目初探</a>
          </li>
        
          <li>
            <a href="/2018/11/20/leetcode-4-寻找两个有序数组的中位数/">leetcode 84 寻找两个有序数组的中位数</a>
          </li>
        
          <li>
            <a href="/2018/11/18/一个游戏人，呵呵/">一个游戏人，呵呵</a>
          </li>
        
          <li>
            <a href="/2018/11/17/本博主旨/">本博主旨</a>
          </li>
        
          <li>
            <a href="/2018/11/16/你好-Hexo/">你好,Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 teof<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>